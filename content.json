{"pages":[],"posts":[{"title":"JetBrains全家桶学生免费使用指南（含pycharm）","text":"先列出来所有学生优惠 GitHub 学生开发工具包 https://education.github.com/ DigitalOcean 50刀优惠码 微软Azure JetBrains 学生开发授权 阿里云 &amp; 腾讯云主机（10元/月真便宜） 之后进入正题，这里只介绍JetBrains的学生优惠计划 1.注册自己学校的邮箱（以济南大学为例） [caption id=\"attachment_115\" align=\"alignnone\" width=\"300\"] （注意咱学校登录时用第二个mail.ujn.edu）[/caption] 2.在这里注册👉https://www.jetbrains.com/shop/eform/students 3.下载时不需要再用社区版了 4.输入2注册的信息来激活 5.享受JetBrains超级智能的编译器吧 JetBrains全家桶还有好多好用的编译器 IntelliJ IDEA - 一套智慧型的Java整合开发工具，特别专注与强调程序师的开发撰写效率提升 PHPStorm 7.0 发布，PHP 集成开发工具 PyCharm 3发布，智能Python集成开发工具 RubyMine -RubyMine 是一个为Ruby 和Rails开发者准备的IDE，其带有所有开发者必须的功能，并将之紧密集成于便捷的开发环境中。 WebStorm8.0 发布，智能HTML/CSS/JS开发工具","link":"/2021/02/25/My-New-Post/"},{"title":"idea远程运行spark一直显示没有资源","text":"我是用windows系统远程Linux虚拟机 网段正确，但是就一直显示没有资源，应该是worker和driver网络没有联通，我寻思着控制面板把防火墙关了鸭，搜了一下windows关防火墙命令行，成了 艹，windows是真垃圾啊控制面板都关不掉防火墙。","link":"/2021/03/03/idea%E8%BF%9C%E7%A8%8B%E8%BF%90%E8%A1%8Cspark%E4%B8%80%E7%9B%B4%E6%98%BE%E7%A4%BA%E6%B2%A1%E6%9C%89%E8%B5%84%E6%BA%90/"},{"title":"树莓派opencv编译排坑记","text":"首先整个过程我是大致按照这个网页https://www.jianshu.com/p/fcc319d1ddd4写的来的，但是我没更新树莓派（这东西一般别更新），然后装了几个包，装的也不全，OpenCV版本是3.4.3。 $ sudo make -j4 编译后面的j4要加的，编译时的错误和这个没关系，加上要快的多，下面说一下我遇到的错误 。 第一类错误 上面两个错还有类似的应该是需要在网上找资源下载...我下的被我删了github有 第二类错误 这个问题，缺失的文件，可以直接将opencv_contrib中对应文件复制到opencv文件夹中，不会存在覆盖问题，有些文件夹还需要自己建 第三类错误 我第一次编译出现了段错误，说内存不够，是用了另一个OpenCV版本，按照另一个教程编译的，换成简书这个教程就没这个问题了。","link":"/2021/03/03/%E6%A0%91%E8%8E%93%E6%B4%BEopencv%E7%BC%96%E8%AF%91%E6%8E%92%E5%9D%91%E8%AE%B0/"},{"title":"Python自动化之Chrome无界面启动","text":"我们在通过Selenium运行自动化测试时，必须要启动浏览器，浏览器的启动与关闭必然会影响执行效率，而且还会干扰你做其它事情（本机运行的话）。 Chrome-headless 模式， Google 针对 Chrome 浏览器 59版 新增加的一种模式，可以让你不打开UI界面的情况下使用 Chrome 浏览器，所以运行效果与 Chrome 保持完美一致。PhantomJS作者表示，你这么搞我失业了啊....自己也就放弃了PhantomJS的维护，现在selenium也不再支持PhantomJS了。 通过使用Chrome-headless 模式，发现以前的一些错误都不见了，速度也大大提升... 下面是使用Chrome➕selenium的设置，包括了Chrome-headless 模式 chrome_options=webdriver.ChromeOptions() chrome_options.add_argument('--disable-gpu') # 谷歌文档提到需要加上这个属性来规避bug chrome_options.add_argument('headless') # 无界面模式 chrome_options.add_argument('blink-settings=imagesEnabled=false') # 不加载图片, 提升速度 driver = webdriver.Chrome(executable_path =\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chromedriver\",chrome_options=chrome_options) chrome_options=webdriver.ChromeOptions() chrome_options.add_argument(‘–disable-gpu’) # 谷歌文档提到需要加上这个属性来规避bug chrome_options.add_argument(‘headless’) # 无界面模式chrome_options.add_argument(‘blink-settings=imagesEnabled=false’) # 不加载图片, 提升速度 driver = webdriver.Chrome(executable_path =”C:\\Program Files (x86)\\Google\\Chrome\\Application\\chromedriver”,chrome_options=chrome_options)","link":"/2021/03/03/Python%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8BChrome%E6%97%A0%E7%95%8C%E9%9D%A2%E5%90%AF%E5%8A%A8/"},{"title":"在windows服务器上搭建FTP中的那些坑(┬＿┬)","text":"很久以前在centos上搭建过FTP…最后是因为自己电脑的问题连不上….和服务器的操作没任何关系 今天我又在windows上搭建…又是大坑 1.先按照这个来操作 老版的FileZilla_Server好像不行 2.之后服务器上可以登录ftp，外网不可以 3.然后改了安全组....还是不可以https://cloud.tencent.com/document/product/213/12448 4.....最后在服务器上的防火墙又新增了一个入站规则 what?????windows自带的FTP那几个规则无效？？？ 自己又新建了第一个规则打开了21端口..这样才在自己电脑上连上了服务器ftp 5.获取不到服务器目录？？？ FileZilla Client实在是垃圾...换用xFTP6 (在你的资源管理器里直接输ftp://地址，如果可用最好用这个） 6.还是获取不到服务器目录？？？ 打开被动模式，写个端口段 再把服务器防火墙对应端口打开 我特么不信还有错","link":"/2021/03/03/%E5%9C%A8windows%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%90%AD%E5%BB%BAFTP%E4%B8%AD%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91-%E2%94%AC%EF%BC%BF%E2%94%AC/"},{"title":"历史转折中的“杭派工程师”","text":"转载自新浪 “山外青山楼外楼，西湖歌舞几时休。暖风熏得游人醉，直把杭州作汴州。” 千年前的南宋临安，王侯将相在宫阙庙堂里主政，文人骚客在酒肆茶舍里风流，这是天子的杭州，更是诗人的杭州；1972年，周恩来在“楼外楼”菜馆招待了美国总统尼克松，6年后中国改革开放，西湖畔渐渐游人如织，商铺林立，这是游客的杭州，终究是浙商的杭州。 2018年，杭州城的生活是这样的：萧山机场T3航站楼的安检员每扫描3000个瑞士双肩包，就有2200个装着写满代码的笔记本；阿里西溪园区的星巴克，销量号称亚洲Top3，一天至少卖出200杯焦糖玛奇朵；余杭区的出租车司机每天能拉到13个谈论App开发的乘客，收到的现金不会超过100块，还有老外举着美钞，求师傅给他的支付宝转点钱；西湖银泰的新白鹿，每卖出一盘开背虾，就有两瓶勇闯天涯被喝掉，而10桌客人有3桌会谈论物联网、大数据、AI、区块链……小到充电宝、漂流雨伞，大到无人超市、无人停车场，除了西湖轮渡只收现金，在杭州，几乎一切需求都可以扫码解决。 在君王、诗人、游客、商贾之后，如今，杭州城最风头无二的角色，非工程师莫属。 时代让他们站在了新一轮“历史转折”的中心：整个杭州，乃至整个中国都在进行一场技术升级。向规模要增长正转变为向技术要增长。 在这一进程中，三代杭派工程师悉数亮相——死扛的、敢赌的、自信的，他们是被时代选中的，也是自我成就的。 初代登场：要么扛，要么死 杭派工程师之所以自成一派，是因为他们的成长路径和环境，在中国互联网江湖乃至全球都实属罕见。 十几年前的杭州，几乎没有什么大型互联网和科技企业，初代杭派工程师基本都是阿里人。直至马云将阿里巴巴送上神坛，人们回过头来看，依然会惊讶于这群人出发时竟如此草根。 现在需要过五关斩六将才能拿到阿里offer的工程师们很难想象，刚在前不久入围《MIT 科技评论》TR 35（“MIT全球 35 位 35 岁以下科技创新青年”）的红雪（许寄，现任蚂蚁金服国际事业群技术负责人），2007年入职支付宝时，只有高中文凭。他入职的原因是阿里是招聘会上唯一一家不问他学历的公司。 在杭派工程师的江湖高人里，这样的草根背景不是个例。 2000年，由于互联网泡沫破灭，钱不够烧了，阿里把总部从上海又搬回到杭州。自知不在“世界中心”的阿里有独特的招人策略：不是瞄准最精英的人，而是瞄准最有成长潜力，最能自我驱动的人。曾在阿里主管人事的卫哲在一次演讲中回忆，他刚到阿里的05、06年，公司很少去清华招工程师，因为“清华北大，他永远有比阿里更好的职位”，而结果也证明，阿里很多最优秀的工程师来自华中科技大学、北京邮电大学…… 那时的阿里看谁都是人才，马云原话是“杭州大街上走的人都想招进来”。苗人凤（倪行军，现任支付宝事业群CEO）是看杭州日报夹缝广告找上门来的；阿玺（胡喜，现任蚂蚁金服副CTO）大学专业是英语；鲁肃（程立，现任蚂蚁金服CTO，国际事业群COO）是当年在上海交大念博士，给支付宝兼职写代码时被苗人凤连哄带骗，学也不上了，来的。这种草根氛围甚至震慑到了偶尔乱入的学霸——副总裁袁雷鸣毕业于北大法学院，许多年都不敢跟别人说自己是北大毕业的，旁人“你怎么混得那么差”的眼光扛不住。 如果把中国工程师分为三派：西二旗是华山派，华强北是丐帮，杭派工程师则像明教。 华山派，名门正派但苦大仇深，没在早高峰被挤掉过鞋不足以和他们谈人生；丐帮，起于草莽，顽强生长，江湖上没有他们做不出的硬件；“杭派工程师”则像明教的高手，来路野，武功高，一开始处在江湖核心之外，既不似北京靠近政治、学术中心，也不像深圳有特区政策和产业链加持，偏安一隅，却有了潜心修行的机会。 阿里由此带着这批初代杭派工程师，在杭州缩减兵马安营扎寨，开始了和时间的漫长赛跑——跑过了濒临倒闭的危机，跑过了互联网泡沫后的凛冬，跑到了电商爆发的快车道上——终于，史诗般的“推背感”到来了。 等到红雪入职的2007年，淘宝和支付宝的业务量与日俱增，他正好赶上了“推背力”最大的时期。这是“杭派工程师”淬炼技术的第一个阶段：迫在眉睫的业务逼得他们不得不熬夜通宵，并在每年的大日子怀着对风险的敬畏给关公送上旺旺雪饼。 “双11”的保留项目：拜关公 红雪告诉“甲子光年”，在他第一天到支付宝位于文三路华星时代广场的办公室报道时，如今已成为阿里合伙人的苗人凤、鲁肃等人都在“咔咔写代码”。 红雪很快参与到当年10月启动的、由鲁肃和苗人凤主导的“账务三期”项目中。 这是支付宝早期一次“伤筋动骨”的技术改造：由于支付宝原有系统已无法承担淘宝指数级的业务增长，整个数据和账务要搬到新的账务系统。老苗在开发期曾和人开玩笑：“如果这个项目做不好，我们都从22楼跳下去。” 账务三期定在2008年1月1日发布，整个支付宝从1月1日零点停机，原定上午8点发布新系统，前4小时调换数据、后4小时核对数据。 但在核对数据时，大家发现数据无法配平。到下午3点、发布时间延误7小时后，问题才得到解决。正当所有人松口气时，5分钟的线上实测环节又出了bug——数据还是对不上。 千钧一发之际，鲁肃从房间的角落走向了查bug的电脑，拍了拍同事：“同学，让一让，我来。” 办公室里随即响起键盘声，也只剩下键盘声。 当支付宝公关部已经因为各种“携款潜逃”的谣传炸锅时，技术部这边却异常安静。到下午5点，鲁肃发现一个公式里的两个数值正好差了两倍，把“+”换成“-”后，数据终于配平了。 从2009年开始的一年一度的大考——“双11”，更是淬炼初代杭派工程师的最重要的战役。 在技术实力逐渐成熟的今天，阿里和蚂蚁金服的工程师们是“喝着咖啡”过“双11”的，淡定优雅。但在红雪的老同事，蚂蚁金服研究员俊义（陈亮）的记忆里，2009年第一年“双11”是在惊心动魄中结束的。直到当天午夜12点，支付宝技术部都回响着工程师们的大喊大叫：“系统快不行了，快帮我扩掉！扩X台！” “双11”惊人的流量给系统带来了超出意料的冲击，只能靠两名产品工程师在当天手工扩容，直到11月11日24点，他们一直严阵以待，接受从“战场”四面八方传来的“呼救”。 “如果那一天再多4秒，数据库就挂了。”俊义告诉“甲子光年”。犹如一场拳击赛，拳击手已经快倒了，这时裁判吹了终场哨。 不过比起后面的业务量，这一年的惊险只是小儿科。 2009年，第一届双十一的销售额是5000万元；第二年，则爆炸式地增长到9.36亿元，翻了近20倍；第三年又进一步飙涨到52亿元……与此同时，支付宝系统需要承载的TPS（每秒交易数）也一路达到前无古人的地步，2017年的最新数据是25.6万笔/秒——世界上任何别的公司都没有经历过如此高的TPS场景。 2010年到2017年，双十一需要处理的TPS峰值从500上升到了25.6万 往事也都不是这些富有传奇色彩的大战，还有日复一日，琐碎而艰苦的行军。 2004年，淘宝刚把数据库从MySQL换成甲骨文时，版本内部逻辑一直不对，最快的解决方法是“重启”。淘宝的早期工程师之一子柳在《淘宝技术这十年》一书中记录了当时的情况：工程师们不得不24小时开着手机，不管多晚，一旦收到“SQL Relay进程挂起”的短信报警，就得从睡梦中爬起，打开电脑，连上机房的网络，重启服务。干这事最多的是三丰（姜鹏），现在是淘宝网的总裁，子柳调侃道：“于是我们知道，任何牛B的人物，都有一段苦B的经历。” 回头看，初代杭派工程师的成长是外界的业务驱策和自我驱动的共同结果： 极端业务场景逼迫他们必须走入未知领域，要么扛，要么死。最初几年的情况常常是，今年的技术架构刚刚好够撑今年的“双11”，如果不在特定时间内完成升级，明年“业务就开展不了了”。这个过程中，学历和过去的经验都没用，最终能“逆袭”的人，是关键时刻不掉链子，自我迭代能力极强的“硬汉型工程师”。 俊义向“甲子光年”说了一句特别真实的话:“我们的挑战就是源于业务对我们的需求。不是别人不聪明，是因为他们没有遇到这样的挑战。” 不过现在，他们说起最苦的打仗岁月，反而特别怀恋。 “写代码是最快乐的事。”红雪告诉“甲子光年”。俊义用了一个字，“嗨”。“做账务三期时，大家写得非常嗨。老苗、鲁肃、红雪他们，在一个闭关室里，放着歌写代码，边写边这样”俊义说着模仿起大家当年摇头晃脑的样子。 最近两年，为了找点“战斗”回忆，鲁肃、苗人凤、阿玺、红雪、俊义、玉伯等“老人”组建了一个“夕阳红战队”，以参加蚂蚁金服内部不时举办的各种技术比赛。 2018年5月中旬的一个周日，为了准备今年的蚂蚁金服“黑客马拉松”，这些已经做到CTO、阿里合伙人、P10、P11（P是阿里内部的技术职阶，最高级是P14的首席科学家）级别的高管变回了一线工程师，他们从上午10点忙到凌晨2点，做出了一个众筹APP，这个项目的名字叫“谁说夕阳红不值钱”。“不出意外的话，今年应该又是最后一名。”俊义笑了。红雪补充道：“我和俊义、鲁肃、阿玺都是‘高P低能’的集中体现。” 以前，这帮人晚上做完发布会去万塘路的“阿三烧烤”喝酒吃串，不过这次，他们熬完夜后就尽早回家，毕竟不是过去无牵无挂的单身汉了。 对这些曾经的一线工程师来说，主要靠业务驱动技术演进的慌乱岁月已经结束。他们的作息和他们的事业都进入了更沉稳的阶段，需要思考更宏观的技术图景和未来布局。 这也正是阿里、蚂蚁金服和中国的许多科技公司的工程师们正在经历的蜕变。 二代接棒：敢下注的人 如同每个经典武侠小说情节一样，初出茅庐的愣头青并不知道自己未来会成为大侠，但每上一步，就有了一层新境界。从初代杭派工程师到二代杭派工程师的跨越就是这么发生的。 今年春节后入职阿里的李响2012年从浙大毕业时，他和他的浙大同学们还不觉得阿里和支付宝（2014年成立的蚂蚁金服的前身）是技术公司，也不认为杭州是个理想的就业城市。 在美国读完硕士后，李响进入硅谷公司CoreOS。吸引他留在硅谷的原因是硅谷工程师思维上的特点：创造问题、想全新解法、“一直搞到很底层”。这种思维方式在中国互联网圈并不多见，但2010年之后，阿里开始萌发类似转变。 2010年的“IT领袖峰会”上，马云、马化腾和李彦宏有一场交锋。李彦宏说：“云计算是新瓶装旧酒。”马化腾说：“云计算是一个好概念，但真正普及需要时间。”马云说：“如果我们不做云计算，将来会死掉。” 此前一年的9月10日，阿里云在阿里巴巴10周年纪念日时正式成立，当时外界并不看好阿里对云计算的投入；在内部，关于阿里云是使用现成的开源技术还是走自研路线也有争议。阿里云创始人王坚主张后者。他的目标，是做一套中国自主研发的云计算大规模操作系统，把成千上万台普通PC服务器连到一起，实现超级计算机的能力。这将替代主要由IBM小型机、Oracle数据软件和EMC存储设备构成的互联网行业主流底层架构。后来阿里巴巴提的“去IOE化”（IOE即指IBM、Oracle和EMC）就萌芽于此。 马云在阿里云成立仪式上鸣锣 草根背景的阿里在彼时彼刻似乎并没有足够的技术说服力。最开始，阿里云一度被认为是不知天高地厚的骗子项目。据说最困难的阶段，80%的工程师离开了阿里云。而现在，阿里云工程师已经更迭到第5代。 多年后，王坚做客《朗读者》节目时有一段肺腑之言：“（阿里云是）我们的工程师拿命来填的，其实我们的客户也是拿命来填的，就像第一天用电的人是拿命来填的，因为电会电死人的，第一天坐飞机的人也是拿命来换的。” 2014年阿里云支撑了天猫“双11”571亿的交易量并实现了零漏单、零故障； 2015年春节期间，阿里云帮助官方订票网站12306平稳渡过春运售票高峰。现在，“阿里云”不再被认为是“骗子项目”，还成了阿里良好的技术判断力的例证。 阿里云让阿里实现了某种意义上的进化：“技术驱动”的比重逐渐增加，一些技术本身发展成了业务。 正是从阿里云开始，第二代杭派工程师就接过了接力棒——“抢险队员”变成了“长跑选手”，技术，开始成为他们最看重的一张底牌——投入往往不动声色，令人后知后觉，但一旦成势，就难以撼动。 相比快速增长、直接影响消费者的电商、交易和支付，底层技术的投入需要走入无人区的魄力和长期的坚守。 同样赌准长期技术方向的还有蚂蚁金服的由正祥（阳振坤，蚂蚁金服高级研究员）领导开发的OceanBase（OB）团队。他们也决定挑战“去IOE”这个看起来不可能的任务。 其实正祥在加入阿里之前，已在数据库领域坐了十几年冷板凳——他一心想做分布式数据库，却没有遇到有足够耐心的公司，努力多年的项目也一度被停掉。 2010年加入阿里后，正祥领衔OceanBase，这是一个分布式数据库，可以使用多台普通PC存储、处理巨量数据，好处是成本低，难题是稳定性，所以甲骨文等厂商采用的集中式系统一直是业界主流。 虞舜（师文汇，蚂蚁金服资深运维专家）告诉“甲子光年”，到2012年底，OB团队同样面临严重的“业务价值”危机，因为更换底层架构需要技术磨合且有一定的风险，当时阿里内部并没有业务愿意在OB上跑。 最难的时候，正祥把虞舜叫去聊技术理想：“不能让中国的银行一直用美国的底层。” 转机在2013年，蚂蚁金服CTO鲁肃看到了OB对金融交易数据的价值，OB从阿里来到了蚂蚁金服。鲁肃随后决定，在2014年的“双11”中，让1%的交易库数据在OB上跑。 “把最核心的交易系统放在一个自研的分布式数据库上，在世界范围内真的没人做过。”虞舜说。 2015年“双11”，全部交易数据链和支付数据链都跑到了OB上；到了2017年，所有核心数据现在都跑在了OB上。 2017年，曾差点“散伙”的OB团队获得了蚂蚁金服CEO大奖，团队所有人都挂上了有金色带子的醒目工牌。 OceanBase团队获得蚂蚁金服CEO大奖 阿里云和OB，这两个以“前瞻技术布局”为出发点的典型项目现在已发展成集团的独立业务，开始对外赋能。如南京银行的互联网“鑫云”就建立在OB和阿里云的底层上。这和阿里最初主要从市场需求出发做电商、做支付的逻辑已十分不同。 这也对技术人才提出了新的要求：单纯会写代码已不足够，更重要的是技术决策力，是使用、整合技术工具的大局思维。 回顾前两代“杭派工程师”打怪升级的江湖传说，背后是整个中国互联网从市场需求驱动的牵引力，向供给驱动的内推力演变的逻辑。 90年代末，浙江发达的民营经济培育了阿里巴巴的电商生态，做电商要解决信任问题，就有了支付宝。电商和交易发展到一定阶段，向市场、运营要增长不那么管用了，中国互联网已走过了粗放型的高速增长阶段，必须开始向技术要增长。 两个阶段看起来路径不同、驱动力不同，但杭派工程师们的精气神一脉相承：不问出身、敢想敢做、敢为天下先。 这进一步造就了工程师在杭州的地位。 眼下，阿里巴巴36名合伙人中，12位是技术出身，阿里、蚂蚁的技术岗员工占比都超过了60%，蚂蚁两个最核心事业群，支付宝事业群和国际事业群的一二把手，也是技术出身。 阿里巴巴的多隆（蔡景现）更是一个技术传奇，淘宝搜索引擎的代码是他一个人写出来的。如今身为P11（相当于副总裁）和阿里合伙人，他却一直没被要求带团队——阿里让多隆专注做他最擅长的事，他一个人就是一支军队。 “现在不会有人再怀疑，阿里、蚂蚁金服是技术公司。”李响的想法已与2012年从浙大毕业时产生了很大变化。“硅谷做云的、做底层架构的华人工程师，如果要考虑加入国内公司，首选阿里。” 三代进阶：成为输出者 在前两代的工程师的积淀之后，此时此刻，杭派工程师的目标是“星辰大海”，他们正在走向世界更多角落，扩散自己的技术标准、技术价值观。 战斗意志，是“杭派工程师”对外输出的最鲜明的东西。 从2015年开始，蚂蚁金服从印度市场入手，切入南亚和东南亚的本地支付业务，曾经的“高中生”红雪现在是蚂蚁国际化事业部的技术负责人，3年来，红雪和近千名“杭派工程师”同事们已经在东南亚打造了9个“本地版支付宝”。 红雪告诉“甲子光年”，在向东南亚输出移动支付技术时，积累了技术能力的杭州工程师们发现事情并不是“降维打击”这么简单，国内的很多成功经验，在国外不是好不好的问题，而是对不对的问题。小到一个代码管理、文档管理，大到上线发布流程、应急处理预案，皆和国内不同，而且国家和国家之间还有差异。 “我们有一句土话，丢人别丢到国外去了。但软件工程是不可能0 Bug的，一定会有问题。我们只能进行更多测试，把问题先暴露出来。我们还在不断改我们的系统，不要说改商业系统，改内部小二的工作系统都改死你。”红雪说。 技术之外，不同文化下的不同工作方式是初期最困扰杭派工程师们的一点。和过去一样，最好的协调方式是“一起打仗”。 在向印度本地支付公司Paytm输出技术和运营模式时，项目启动不到一年，赶上印度政府突然废除大面额纸钞，废钞后3个月内，Paytm接入的本地商户数从200万涨到600万，翻了3倍。快速的业务增长，让本来轻松的办公室氛围变得紧张，印度的同事们也体会到了发布时的“压力山大”和终于发布后的全员欢动。 类似的，在越南、菲律宾输出本地支付技术的过程中，也经历了几次线上促销。等红雪再去东南亚时，有本地的工程师对他说：“我一辈子都没想过我会这么努力去工作。” 蚂蚁金服区块链和国际事业群团队在跨境支付上线成功后庆功现场 在输出战斗意志的同时，杭派工程师也在对外输出技术规范。 2015年阿里内部启动了一件得罪广大工程师的事：在全集团范围内统一Java编码规约。 作为全球范围内Java语言最强的公司，阿里巴巴内部的各部门、以及集团内部的各公司之间，在写Java时没有统一的规范。这是全世界的常态，就像每个作者有自己的文风一样，每个工程师也有自己的代码习惯。 “一些人说，四个空格开成两个空格，我宁肯辞职；有人说你再坚持两个空格，我火把都准备好了。”Java规约的发起者孤尽（杨冠宝，高级技术专家）告诉“甲子光年”，统一规范的过程极其艰难。 孤尽记得最夸张的一次是阿里另一个团队的leader专门挑周六的时间请孤尽喝茶，两人从早上8点理论到晚上8点，谁都没有说服谁。“特别较真，你这样做故障能减少吗？证据是什么？工程师之间流行一句话：No data，no bb。”孤尽说。 经过近两年的探索，2017年2月，千辛万苦实现内部“书同文”的阿里对外推出了《阿里巴巴Java开发规约》。杭州于是成了全球Java规范的策源地，配合开发规约推出的编码插件在全球范围内被下载了35万次。 过去的中国互联网出海更多是“产品出海”，现在则进入到更深层次的“技术出海”、“技术标准出海”。 与十年前相比，经过三代杭派工程师的努力，在互联网版图中，杭州已从过去的角落进入核心圈层，并在某些特定领域表现出成为输出源头的潜质。 一边是对外输出，一边是向内吸引，愿意成为杭派工程师的人数正在壮大。新来者更精英了，也更具有国际化背景。 以蚂蚁金服为例，公司内部技术人员中，来自北大、清华、浙大等全国排名前7的高校的人数占到了37%。BOSS直聘研究院的《2018中国海归人才就业选择报告》显示，2018年上半年应届海归人才最青睐的城市中，杭州海归占比增幅居全国首位，增幅为0.66%。相比之下，北京、上海的海归人才占比增幅都呈负增长，分别下降了1.28%和0.26%。 从阿里西溪总部星巴克的“咖啡指数”可以大致判断阿里内部工程师背景的变化，店员们观察到的规律是：中国工程师更钟情焦糖玛奇朵，而外籍工程师则喜欢冰美式或卡布奇诺。现在，“冰美式”的比例正在逐步上升。 一座城市的技术升级 如果说之前“杭派工程师”的主体在阿里巴巴、在蚂蚁金服。近几年来，随着杭州技术创业生态的繁荣，杭派工程师的构成变得更加多元化。 去年，创立于广州的无人机公司奇志科技，在杭州设立了研发部门。“广州人才池很小，深圳成本太高，房价跟北京差不多。去年看了人才报告，杭州人才流入比例最高。”奇志科技联合创始人Cash向“甲子光年”解释“空降”杭州的原因。 更多技术类创业公司的诞生、落户，吸引着全国乃至全球的技术人才，杭派工程师这一群体的面貌正“持续迭代”。 阿里依然是绕不开的策源地之一。 2014年阿里巴巴上市后，一批财务自由的阿里人开始转行做投资或自己创业，充实了杭州的创投生态。有赞科技、蘑菇街、数澜科技等公司的创始团队都有阿里背景。 2017年，有1026家阿里系创业公司登上“阿里校友创业黄埔榜”。创业主要集中在新零售和人工智能领域。据鲸准数据显示，从阿里出来的人创立的项目中，有近一半扎根在杭州。 浙江大学是另一个引擎。 根据浙大管理学院科技创业中心发布的《2017浙江大学创新创业生态蓝皮书》，浙大系创业项目落户杭州的比例高达51.93%。杭州本土的知名创业公司中，Rokid创始人Misa、云象区块链的创始人黄步添、趣链科技创始人李启雷、蘑菇街联合创始人陈琪等都来自浙大。 2017年，杭州新成立的创业公司数量已比肩北京、上海、深圳，且人均创业密度已排名全国第一。 2017年北上深杭创业密度（数据来源：元璟资本《2016-2017杭州创业趋势分析》） 值得注意的是，以云计算产业、数据服务为代表的企业服务创业比例攀升，根据元璟资本《2016-2017杭州创业趋势分析》，2017年企业服务领域创业公司成为杭州第一大方向，占比超过30%，排名第二、第三的分别是金融（14%）和电商（10%）。 过去的杭州是市民的、商业的杭州，在阿里巴巴更多投入技术前，电商创业是杭州的主流。但现在，技术创业成为新增长点，更加渴求技术力量的杭州，吸引了更多工程师。 根据猎聘网发布的《2018年中国互联网工程师大数据与调研报告》，从2017年第一季度到2018年的第二季度，杭州以13.6%的流入率，成为互联网工程师净流入排名第一的城市，主要来源是上海和北京。 源源不断涌如的工程师们，在现在这个时间点的杭州，有平台拼，也有余裕“玩”。 奇志科技的Cash发现，有人做过一个GitHub榜单，显示所有中国开源项目里，作者签名地址最多的就是杭州，这是杭派工程师的分享精神和技术热情的例证。 在云象区块链的会议室里有13把椅子和一块不断更新技术思路的白板，上面的字迹就没干过。偶尔，这块白板上也会出现其他杭州区块链公司的名字，比如，imToken。 10公里外，全球最大的以太坊钱包公司imToken的会议室里放着5张折叠床——方便工程师们通宵加班。Blue的大部分时间都在办公室度过，作为首席安全官，他要7x24小时待命，容不得半点疏忽。 有赞的90后女工程师冬冬已是4岁孩子的妈妈。在2014年刚从阿里加入有赞时，她每周都有几天会加班到凌晨3到4点。即使现在开始带团队，一线工作减少了，她仍然习惯在完成整整一天工作后多待一会儿，因为这样可以静下心来看看最新的技术进展资料。 杭派工程师们会干活，也会玩。不过他们“玩”的不是杭州的美景，还是技术。 imToken的首席安全官Blue刚入职时，为了让全公司注意到安全的重要性，就小小玩了把“恶作剧”。他采取“社会工程学攻击”方法，模拟imToken创始人何斌的邮件地址，在某个周六给全体员工群发邮件，要求所有人填写安全反馈。只有一个员工发现了蹊跷，追溯到这是一封钓鱼邮件，后来何斌给这名员工奖了一枚以太坊。 生活中可用技术代劳的事，杭派工程师们都不惜一试，边玩边练手。 比如为了搞定取花名这件事，宋爽（刘永凯，阿里算法专家）专门写了个代码，他找了1000多本武侠小说，把里面的所有人名抠出来，看哪些没被用过，最终找到了《大唐双龙传》里的一个人物宋爽。 之后宋爽又和其他4个同事一起做了一套“刷菜支付”产品，通过计算机视觉技术识别食物，实现自动结账，可以提高排队、买饭的效率。“其实这个项目跟我本身的工作没一点关系。”宋爽说，但阿里和蚂蚁内部的“20%业余时间文化”鼓励大家鼓捣和工作无关的兴趣。 阿里IoT产品专家木酱（代立晨）则把他的“20%业余时间”用到了“居家”上。他使用了一套开源智能家居系统改造自己的房子，让这套系统学习他的生活习惯：“我回家之前，灯和空调自动开；我睡觉之前，卧室的空调会预热；我起床之前，客厅的空调会预热；我离开时这些东西都会自动关掉。” 自从有了这套系统，木酱出差不管住多么好的酒店，都感到不满意。不过，最近他家的系统也得升级一次了，因为木酱交了女朋友，也是工程师，他们正着手把单人智能家居系统改造成能学习多人生活习惯的系统。 这些工程师们自己玩出来、探索出来的项目，也很有可能变成正式的事业。此前淘宝的“聚划算”、蚂蚁金服的“二维码”移动支付都是例子。玩与拼，拼与玩随时切换。 比如杭州区块链技术公司秘猿科技的创始团队是一帮开源社区和加密数字货币的爱好者，其中谢晗剑曾是以太坊社区的核心开发人员，现在，当初完全出于兴趣的尝试成了他的事业方向。 在蚂蚁金服里，最新的例子是区块链。 由于负责清算、账务资金等业务，蚂蚁金服的高级技术专家寇恂（李奕）和裴秀（李玄）在2015年时关注到了区块链技术。 2016年蚂蚁黑客马拉松中，裴秀、寇恂拉其他几个同学用几个通宵搞了一个区块链公益项目POC（概念验证），可以溯源每一笔善款的来源、去向，保证善款不被滥用。这也是后来蚂蚁金服上线的第一个实际运转的区块链项目。虽然是“玩出来”的业务，但眼下，蚂蚁金服正在“用当年做阿里云的决心去投入区块链”。 能在工作之外乐此不彼“玩一把”的原因之一是，杭派工程师不用考虑太多别的东西。 根据猎聘调查，杭州工程师是全国最有幸福感的工程师，比排名第二的上海还高出10个百分点。“有价值感的工作”“杭州美景及江南文化”“惬意的生活”构成了杭派工程师幸福感的三大来源。以通勤来说，每日通勤时间在1个小时以内的杭派工程师超过67%，而在北上广深这一数字均未超过50%，其中北京有13.56%的工程师通勤时间在2.5小时以上。 北、上、广、深、杭互联网工程师幸福感对比 但收入上杭州又并没有被甩下。杭州工程师的平均年收入和北上广深一线城市的同行们同处于20万之上。 不同城市互联网工程师收入排名 尚未达到一线城市水平的房价和相对高的收入，使得杭派工程师容易安心。“此心安处是吾乡”。他们普遍恋爱、结婚很早。“甲子光年”接触了30位来自不同公司的“杭派工程师”，他们的年龄跨度为22岁—33岁，其中已婚者25人，19人是在杭脱单的。 周末，当北京30岁的程序员边打Dota2边摸索外卖餐包里的牙签时，杭州25岁的工程师也许正躺在郊外的草地上，嚼着女儿塞进嘴里的荔枝。 对杭派工程师们来说，正在冲刺期的杭州有两面：整座城市在变得更有科技感，是实现技术抱负的舞台；但它尚保留着江南水乡的风流和温柔，保留着一点让人想生活下去的松弛感。 “Hello World” 杭派工程师只是中国崛起的工程师力量中的一个门派，作为一个整体，工程师在整个社会的辐射力正越来越强。 如果稍微浮想一下，我们现在也正处于一种思维范式的历史转折中，数据、量化、机器日益成为文明的重要拼图。 作为最了解机器的人群之一，工程师也已从半个世纪前隐匿在网络角落的少数极客、主流世界的边缘人，变成了如今支撑经济发展、技术迭代、深远影响每个普通人衣食住行的重要群体。 在飞往杭州的班机的邻座位置，在阿里工位的书格上，在有赞CTO崔玉松的办公室里，“甲子光年”记者都看到了桥水基金创始人达里奥写的畅销书《原则》。达里奥就是一个思维上的工程师，他把个人管理、公司管理的问题都理解为机器、工程问题，在桥水内部用各种可量化、可复用的方式来处理决策、信息分享和人事评价的难题。 不过，工程师们传递给世界最宝贵的经验和价值，不仅仅是理性、计算和逻辑，而是几次潮起潮落后，对世界不灭的好奇。 2016年的蚂蚁金服年会上，舞台特效还原了《黑客帝国》里的代码漫天坠落的经典场景，蚂蚁金服CTO鲁肃在代码里挥舞着手臂上台，最后千万行代码汇成一句话，这也是1969年人类的第一封电子邮件写给世界的话： Hello，World. 2016年蚂蚁金服年会上鲁肃穿着“hello world”T恤登场","link":"/2021/03/03/%E5%8E%86%E5%8F%B2%E8%BD%AC%E6%8A%98%E4%B8%AD%E7%9A%84%E2%80%9C%E6%9D%AD%E6%B4%BE%E5%B7%A5%E7%A8%8B%E5%B8%88%E2%80%9D/"},{"title":"阿里云的这群疯子","text":"原创： 史中 浅黑科技 浅黑科技2018-10-16 阿里云的这群疯子 文 | 史中 世事安稳，岁月静好。 电影里才有疯子。麦克墨菲在疯人院里带领一群精神病人揭竿而起，怼天怼地；饿了三天的黑皮为了抢一口面包被店主追上高架桥，末路狂奔；杰克和泰勒在午夜的搏击俱乐部里挥拳相向，鲜血淋漓。屏幕对面，我们把爆米花塞进嘴里，哭成狗或者笑成狗。电影散场，各自回家。 真正的疯子，从来不看电影。 他们把别人的目光变成聚光灯，把自己的生活变成真人秀，手提钢刀用肉身串演一个浓重的角色。他们的人生结局无外乎两种：黄袍加身，或者玉石俱焚。 阿里云这群疯子，就用56度的荷尔蒙，在横跨十年的悠长画布上涂抹了这样一个故事。 （1）一个大问题 2008年9月，王坚加入阿里巴巴。 马云把他从微软亚洲研究院常务副院长的位置挖来，是因为阿里巴巴面临一个重大的危机——公司的“脑力”快不够用了。 阿里巴巴的“脑力”，其实就是“计算力”。 几亿用户无论是在淘宝剁手，还是支付宝上转账，这一切都要靠巨大的计算力来思考、记忆。恰恰和人一样：如果这个“大脑”记忆被填满，就没办法储存新的商品和交易记录。如果这个“大脑”思维速度跟不上，就没有办法让用户及时下单、付款。 2008年，中国虽然已经加入 WTO，还把国际友人请来热热闹闹地开了一次奥运会，但在科技领域仍然是个标准的“三无”国家：没有自己的操作系统，没有自己的芯片，同样没有自己的计算力系统。所以，购买国外成熟的设备和系统，几乎是 BAT 和所有大国企的唯一选择。 国外的东西，无外乎“IOE”这三样标配： I（IBM，服务器提供商，他们提供的服务器俗称“小型机”）O（Oracle，数据库提供商，他们的软件是著名的“甲骨文商业数据库”）E（EMC，存储设备提供商，他们提供的是“集中式存储”）。 鲜有人知，那时的阿里像依赖氧气一样依赖 IOE。 一个支付宝的同事给了我翻出了当年的数据：2008年，在阿里的IT架构中，淘宝和支付宝使用的绝大部分都是 IBM 小型机、Oracle 商业数据库以及 EMC 集中式存储。 当年用户激增，数据越来越多，每天早上八点到九点半之间，服务器的处理器使用率都会飙升到 98%。离爆棚就差两个百分点。 阿里巴巴就像赛道上的跑车：速度飞快，但引擎已经发红，再踩几脚油估计就要冒烟，后果不堪设想。 可能连马云自己都没有想到，阻碍阿里巴巴增长最迫切的阻力不是商场上的博弈、不是政策的变化，而居然是 IT 基础设施的瓶颈。 怎么办？花钱继续买服务器和软件啊！ 这话听上去没错。但是有两个小问题： 一个问题是太贵。那时候小型机价格大概是从几十万到百万人民币；商业数据库软件费用差不多几千万，外加一大笔维护费。王坚 08 年刚来阿里时就给马云算了算，按照这样的速度“剁手”，光是买机器和软件就足够让阿里破产。阿里得找到一种成本更低的技术架构。另一个问题是不好用。阿里在08-09年的时候，业务增长速度实在太快。每年都是十几二十倍，IOE 虽然都是美国公司，但事实证明美国的月亮也不会更圆。它们的系统并没有经受过服务几亿人这么大规模的考验，此时已经变得非常难用了。 2008 年中旬，马云召开了内部会议。事情已经刻不容缓，要研发一套新的技术架构来换掉阿里巴巴的旧引擎。 这个新的计算架构应该是什么样呢？ 首先，它要便宜。 就像一日和三餐一样，无论去哪家餐厅，都不如自己做饭更实惠。长远来看，自己开发一套计算架构显然是最经济的。 其次，它要好用。 为了满足阿里巴巴庞大的计算任务，这套系统至少要比 IOE 表现更好，能同时调度数千台计算机，组成一个巨大无比的“大脑”。 于是，“阿里云”这个词，第一次出现在公司高层的话语里。而王坚，加盟阿里巴巴之后的职务恰恰是“首席架构师”，他的使命就是从零开始建立这个云计算系统。 王坚 王坚是个理想主义者。 在他丰满的理想中，这个新架构的每一行代码都要自己来写。但现实骨感：环顾四周，他身边除了几位从微软带来的旧部，几乎一无所有。 2008年10月，这个想象中属于中国的云计算系统被团队定名为“飞天”，源自中国神话中的形象。 后来人们说，阿里云是技术驱动型的企业。不过在我看来，最初阿里云应该是起名驱动型的企业。名字倒是起得不错，但作为“三无”国家，底层科技起步较晚的中国在对美国的复杂计算机系统的战争中，几十年都未尝胜绩。 中国人研究的云计算，会“飞天”还是“坠毁”，旁人心里多多少少是有判断的，只是不便明说。 说回这个疯狂的计划。 飞天相当于一个发动机的，而时间紧迫，阿里巴巴准备同时做两件事：一边制造发动机，一边为自己的主力业务淘宝网顺便造一个整车出来。 当时，淘宝网在计算力方面的主要需求就是“大规模数据计算”。所以，用飞天为淘宝造“大规模数据计算”制造整车的计划就被定名为“云梯计划”。 实际上，“云梯计划”关乎阿里的生死，不是儿戏。思来想去，公司内部还是做了两手准备： 1）用一些已有的开源软件为基础，研发一个数据计算系统，这是“云梯1”计划。2）而以“飞天”为基础，纯自研一套数据计算系统，被定为“云梯2”计划。 彼时绝没人想到，五年后的那个下午，这两座通向顶峰的云梯会用怎样的姿态占据画面的中心。千军万马雄列两旁，目睹荣耀的火焰和退潮的海水。 历史就这样以汹涌的姿态，向那些准备好的和没准备好的人敞开。 2009年 阿里云成立 （2）招兵买马 满弓是阿里云的第六位工程师。 招他进来的，是王坚在微软的旧部，阿里云的第一技术负责人林晨曦。面试结束时，林晨曦歪嘴一笑，提醒满弓：“你加入阿里云之后，要做好随时出差的准备。” 果然，满弓签完入职合同当天下午，就被“附赠”了一张火车票。他要去天津帮助招聘。 满弓这样回忆十年前的那个下午： “阿里研发院” 2008年10月才成立，已经错过了招聘季的黄金时期。但是我们又确实太需要人才了，于是刻不容缓，要再扫荡一下那些大学，把“漏网之鱼”打捞回来。 2009年 阿里云的招聘海报 跟着阿里云的招聘队伍，满弓跑遍了全国主要的几大城市十几个学校。每到一个学校，只呆三天。 第一天做宣讲，然后马上笔试；第二天统一面试；第三天发 Offer。 彼时的阿里巴巴已经很有名气了。很多错过招聘季的同学喜出望外，一时间各大学校风起云涌奔走相告齐来应聘，虽然从招聘者到应聘者，都没见过云计算长什么样子。 由于招聘人手实在太少，面对堆积如山的笔试试卷，满弓他们根本判不过来。焦头烂额的满弓擦汗时一回头，看到了同行的 HR 小姐姐。满弓两眼放光，二话不说把她们揪过来，一晚上就教会了她们如何判卷。 当时判卷的场景 经过这样“连滚带爬”的招聘，到了2008年年底，阿里云凑够了了三十位工程师。 话分两头。 下有林晨曦招兵买马，上有王坚每天“画饼”。 马云深受王坚鼓舞。虽然不懂技术，但是他逐渐发现，云计算这件事情的价值比一开始想象中的要大得多。 这是因为云计算系统会制造出一种具有极强弹性的计算力。这样的计算力一方面可以为阿里巴巴添置家当，另一方面还可以“批发零售”给无数中小企业，为未来世界建设了一整套“基础设施”。 这样来看，就把“独善其身的工具”变成了“兼济天下的生意”，这不正是马云创建阿里巴巴的基本信念吗？ 从这一刻开始，马云就对阿里云寄予重望。只要有空，就到阿里云的团队里和林晨曦、满弓这些工程师们一起聊天讨论。 马云、王坚 和工程师们的合影 然而，事情发展到这里，就开始有些错位了。 阿里的很多的业务部门希望的是稳定地在现有系统上加以改进，最好别冒太大风险； 但飞天团队却黄巾高擎赤膊上阵左右开弓，想依靠一己之力，开发出一套改写世界历史，可以让中国人扬眉吐气的完美云计算系统。 刚才我说阿里云是“起名驱动型的公司”，你看看这帮疯子给飞天内部模块的命名，就知道他们心里在想什么了： 分布式存储的系统，就像大地一样承载万物，那就叫“盘古”。调度系统，需要“能掐会算”，就用懂得阴阳八卦的“伏羲”命名。结构化存储系统，就用会盖房子的“有巢”。网络通信，就用追日的“夸父”。等等。 飞天团队一片斗志昂扬。 其他部门的很多领导层，用半信半疑外加慈爱的眼光看着他们。 （3）淘宝的一场战争 时间不等人，转眼到了2009年。 在隔壁淘宝网的普通员工中，有人在“隔江犹唱后庭花”，有人却已经感到“山雨欲来风满楼”。 2009年，小邪刚刚加入阿里一年，在淘宝网参与系统研发。当时他和同事都感觉到，淘宝网面临的矛盾非常明显： 业务并不赚钱，09年只有一个季度勉强盈利。而赚来的这点钱，眼看都要填进去购买服务器和软件产品，入不敷出。 小邪记得很清楚，他昨天刚听说隔壁阿里云准备搞云计算，今天就迎来了一个“特殊的客人”。 林晨曦走到淘宝网技术团队面前，搬个板凳兀自坐下：“你们淘宝的大数据系统用我们的阿里云架构吧。” “代码已经写了多少？”小邪问。 “几行吧。”林晨曦说。 事情就这样定下来了。 云梯1、云梯2，两套系统一边搭建，一边在淘宝内部实验，一边承担部分计算任务以缓解现有系统不足的压力。 当时淘宝技术保障数据库管理员的负责人是后羿。他几次欲言又止，还是硬着头皮在内部会议上宣布了这个消息：淘宝要放弃 Oracle，转投自研的数据库架构了。 结果，八十多个 Oracle 工程师把他堵在会议室里。“你再说一句试试？” 他们的愤怒完全合情合理。“如果上边铁了心要干，兄弟们的前途在哪里？” 最终，一场恶斗转化成了几十个工程师坐在会议室促膝谈心。技术人是讲理的：淘宝已经这么大了，如果现在不刮骨疗毒，自己砸自己的饭碗，将来整个淘宝都会命悬一线，到时候大家还不是沦落天涯。想通了这些，工程师们也冷静多了。 这八十多个工程师里，包括后来的阿里技术保障部负责人振飞。振飞站出来说：“好，让我们学新技术可以，但是咱们拿事实说话。你后羿敢不敢跟我打个赌？以三年为限，用新技术的淘宝核心交易系统必须达到零故障！” 后羿咬咬牙，敢！ 但后羿一个人的分量还远远不够重。毕竟淘宝上有这么多业务，这么多买家，这么多卖家，万一数据迁移失败，谁来负责？时任淘宝技术总架构师行癫（现任阿里巴巴 CTO）见状，把心一横，宣布自己和部门也愿意站出来，共同承担技术风险：“干好了我们大家荣誉等身，干坏了要杀要剐我来扛！” 看到行癫都赌上了自己的身家性命，也就没人再说什么了。 2009年秋天，轰轰烈烈的 IT 架构升级项目在淘宝网正式启动。一群 Oracle 工程师，就这样含着泪，一点一点亲手拆毁自己安身立命的系统。 （4）荒野求生 林晨曦用来“忽悠”淘宝网的“几行代码”，是在北京写出来的。 2009年春节上班第一天，在北京上地的汇众大厦203这间连暖气都没有的办公室里，一帮工程师一边口呼白气，一边敲出了“飞天”的第一行代码。 飞天的第一行代码 说起来，这个地方算是阿里云最早的办公室，但是门口也没个牌子。直到半年后他们搬出大厦，保安都不知道这帮神神叨叨的人究竟是干什么的。（不过十年后的今天，他们的手机里的很多 App 也许都跑在阿里云的服务上。） 每天，工程师们除了噼里啪啦写代码，还得顺便“荒岛求生”——自己订水、买垃圾桶、修桌椅板凳、修无线网，连茶叶和咖啡都是从自己家带来的。 不过，他们坚信自己在做的事情还是挺伟大的。“没准将来我们成功了，我们写的飞天第一行代码还能印在T恤上呢！”角落里有人瑟瑟发抖地说。 那个时候的他们，看上去和一帮戴着眼镜的教徒无异。 时间马上又到了夏天。北京的夏天，你懂的。当时测试系统的服务器就架在办公室里，这就是个巨大的火炉。大厦的空调不行，还没到七月份，程序员就热得撑不住了。为了降温，每天上午他们都叫冰场送两大块冰来。 有一次周六，马云来北京，专门到阿里云的办公室去看看。林晨曦赶紧想打开电脑给马老师展示一下自己团队的成果。结果按了半天开关，机器都没反应。他才发现大厦停电。。。马云就这样坐在办公室等了半个小时，直到物业恢复供电才一睹阿里云飞天系统最初的芳容。 王坚跟马云说，这帮人很能干，每天晚上都加班。马云惊了，在这种地方还能加班？？没过几天，阿里云就搬出了这幢大楼，进入了有空调的办公室。 同事们往办公室里运冰 （5）神坑，阿里云 金融大咖胡晓明，2005 年加入阿里，以办事雷厉风行闻名全集团。 2009年6月，马云找到胡晓明，准备交给他一个大任：内部创业，做阿里金融的总裁。 胡晓明信心满怀，准备撸起袖子说干就干。不料，马老师悠悠地说，不要急，你要先答应我两件事。 马云：第一件事，你只能做100万人民币以下的贷款生意，帮助像当年的我一样借不到钱的创业者。 胡晓明：理解，这没问题。 马云：第二件事，你必须跟刚成立的阿里云绑在一起，用他们的技术架构支撑你的服务。 胡晓明：纳尼？？！！ 这两件事，胡晓明最终都答应了。不过阿里云这帮看上去疯疯癫癫的人，他们技术到底靠不靠谱，胡晓明可是真没底。 金融不像别的业务，这可是一个数据都不能错，一个字节都不能丢。按照“行业祖训”，打死都得用 IOE 这些国外大厂的基础设施，现在可好，却非得用听上去就让人怀疑的“阿里云”。。。 “明明可以坐高铁，却偏偏要骑自行车去上海。”当时研发工程师王国涛的吐槽，代表了很多阿里金融同事们的心声。 但马老师肯定有马老师的道理。阿里金融的同事们只能硬着头皮跟阿里云的朋友们握握手。 “牧羊犬”是阿里金融的第一个产品，简单来说就是给淘宝商家贷款的项目。吐槽王王国涛回忆：“当时阿里云一边搭建飞天平台，我们就一边在飞天上面开发牧羊犬应用。这就像是开发商一边在造房子，我们一边在室内装修铺地板。” 飞天果然不负众望。 数据传输问题、计算稳定性问题、处理速度问题一样都不少，翻版篆版梅花版的错误层出不穷，各种 Bug 形式翻新，永不重复，这叫一个皮。。。 阿里金融的工程师必须24小时盯着系统，才能防止酿成大错。当时情况危急到了什么程度呢？一位奶爸工程师为了值夜班盯系统，把自己小孩的哭声设成了闹铃。因为只有听到这个声音，他才能在无论多困的情况下从床上弹起来。。。 这段时间，提到阿里云，阿里金融的程序员们都是“眼睛干干的，有种想哭的心情”。他们的经典吐槽大概是这样：人家的是云计算，我们家的是“人肉云计算”；人家的是“分布式计算”，我们家的是“分步试计算”。。。 作为合作伙伴，林晨曦每天的表情都有点儿尴尬，出则满脸堆笑地帮阿里金融排除 Bug，入则愁容满面地和同事们一起修改代码。 眼看就要过春节了，两个项目都快撑不住了。 被“猪队友”坑得够呛的胡晓明气鼓鼓地带着核心骨干跑到王坚办公室门口“讨说法”。胡晓明这个人，是出了名的“只要认定的事情就一定要办成”，大有在王坚办公室打地铺静坐的架势。王坚无奈，派出所有的技术工程师，驻扎在阿里金融的现场加班开发，只为了“让兄弟团队能过个好年”。 好不容易捱过了 2009 年，春节过后，阿里云发布了一次大版本升级。升级完成的一瞬间，空气突然安静了： 飞天系统稳定得不像阿里云的作品。。。 阿里金融从一口口呛水的状态，一下子冲出海面。 巨大的计算力让阿里金融实现了“秒级”放贷。这种技术进步让“小额多次放贷”成为了可能，这就让阿里金融几乎等于开挂，不良贷款率大大低于传统金融机构。也正是因为阿里云“高效低价”的加持，单账户每年的 IT 成本可以控制在1元以内。 阿里金融，成为了后来的网商银行。他们就这样无意间成为了中国第一个上云的银行。 胡晓明内心OS： 宝宝心里苦， 但宝宝要笑 T_T... （6）“骗子”王坚 解决了稳定性，阿里云就像抓住了救命稻草，总算可以暂时喘口气。 这些成绩，也已经成功引起了其他公司的注意。于是 2010 年，在阿里巴巴出发两年后，很多大公司纷纷着手研究自己的云计算技术。 但所有人都没想到，有一只巨大的怪兽正在必经之路上静静等待着。 这只怪兽名为“5K”。 你还记得“云梯1”和“云梯2”两个项目吗？此时，终于轮到他们唱主角了。 两座云梯，就像“争夺家产”的两兄弟，规则很明确： 1、要想成功肩负起阿里巴巴的底层计算系统，就必须有能力独自调度 5000 台服务器。2、两兄弟谁先跑到 5000 这根线，就“赢者通吃”，继承家业。 而 5000 这个目标，就写为 5K。 目标就摆在这，但无论是“云梯1”还是“云梯2”，都死活达不到这个指标。 李超是飞天伏羲调度系统的研发工程师。他用苦逼来形容自己的2010 到 2012。当时他带着同事们没日没夜地加班，收获的就是一个接一个的系统错误。 就这样，一年过去了，两年过去了。 王坚是一个性情温和的人，但是那段时间，他几乎天天跟团队拍桌子。 满弓回忆，每次一开会大家都会把桌子收拾干净，把水杯什么的拿走，以防出现“事故”。 我记得有一次博士（王坚）很生气，砰砰地拍手机。有一个工程师实在受不了了，说博士，你拍的是我的手机。。。 现实不是小说。神兵天降和剧情反转并不存在。纵然他们几乎尝试了所有可能的技术策略，但就是没有一种方案可以成功调度5000台机器。 2012年底，以开源软件为基础的“云梯1”计划实现了4000台集群调度，而阿里云团队更看好的纯自研的“云梯2”还在1500台集群的数量徘徊。 越是困难时刻，越会产生分歧。 实话实说，当时大多数的技术大牛，都觉得用经过全世界验证的 Hadoop 为基础的“云梯1”更有希望，对“云梯2”嗤之以鼻。而阿里云这帮人就是不认，因为根据他们的推断，Hadoop 在4K到5K的路上，肯定会遇到一个不可逾越的沟壑，于是倔强地带着团队大举投入“云梯2”。 在一片质疑和争吵中，“最寒冷的冬天”就这样降临了。 1934年到1936年，从苏区出发到陕北会师，三年长征，工农红军从8万人锐减到3万人。 从2010年到2012年，在阿里云最艰苦的长征三年，“战损率”只多不少。 由于没有成绩没有进展，连续几年阿里云整个部门都在集团拿最低分。 满弓、李超他们开始收到团队同学的辞职书，林晨曦也收到了部下的转岗信。这些邮件，最终都一封不少地塞在王坚的邮箱里。 一般来说，三年时间足够判断一件事情到底靠不靠谱。“世界末日”那年，人们几乎已经认定了阿里云不可能做出一套云计算系统了。不仅如此，很多阿里的同事都叫王坚“骗子”。开始大家还在背地里说，后来，大家都不再忌讳，公司里流传着很多骗子王坚的笑话。“一个学心理的博士居然当上阿里巴巴的 CTO，心理学学得真好啊！” 无论是“伏羲”还是“盘古”，这些开天辟地的名字，此时都成为了阿里云这些人要满足“个人野心”的明证，成为了狂妄的代价，成为了“不自量力”的耻辱。 当时内网论坛里对阿里云和王坚的吐槽 满弓、李超、飞天总架构师唐洪、林晨曦，他们每天都是低着头上班。今天，左边的工位空了，明天，右边的工位空了。。。 “谁也不知道王坚当时帮我们抗了多大的压力。。。”李超回忆起那段日子，只说了这么一句话。 眼看阿里云成立就要满五年了，集团里却风言风语地传着“阿里云要被撤掉”的消息。 某一天，马云突然召集阿里集团高管开会，所有业务部门的负责人都估计是马云要宣布关掉阿里云的消息，于是纷纷带上自己的技术负责人参会，准备一声令下，就瓜分阿里云的技术人才。 在 2012 年的阿里云年会上，王坚走上台，他紧紧攥着话筒，几次抬眼望向远处，几次欲言又止，最终泣不成声。这个曾经扬言要用一己之力把中国云计算镌刻在世界科技史上的“疯子”，就那样孤零零站在原地，面对台下黑压压的一群错愕的人。仿佛无数时间的列车在他眼前呼啸飞逝，而他手里没有握着任何一张车票。 这是阿里云故事里最为人所知的一个细节。但我猜很少有人记得，王坚一边哭，一边说了什么。 他说：“这两年我挨的骂甚至比我一辈子挨的骂还多。但是，我不后悔。只是，我上台之前看到几位同事，他们以前在阿里云，现在不在阿里云了。。。” 就像王坚的一位老部下把辞职信交到他手里时，对他说的那样：做云计算的感觉就像集体合围抱一棵大树，谁都知道最终大家的手会连在一起，但谁也不知道那一刻会发生在什么时候。真的真的对不起，我撑不住了。。。 如果把阿里云所有曾经的员工加起来，可能是现在的好几倍。有太多太多的人都在那段暗淡的日子里离开了。这不怪他们，任何一个能认真判断利弊的人，也许在那时候都应该离开阿里云。也许只有“疯子”，才会选择留下。 就在阿里云最危急的时候，好友朱珑找到林晨曦，鼓励他离职创业。但林晨曦给朋友撂下一句斩钉截铁的话：“现在我绝对不能走。如果你想等我创业，先让我把阿里云扶上正轨。” 阿里云苦苦撑着，人心飘摇，流言四起。 流言终于传到马云耳朵里。 “我每年给阿里云投 10 个亿，投个十年，做不出来再说。”他对着阿里巴巴集团所有人，斩钉截铁地说。 这一句话，让所有的流言顺次平息。 在阿里云年会上，马云做了这样的独白： 我知道，所有留下来的人其实是真正阿里云的精髓。有的时候不是你技术有多强，而是我们有多团结，互相多配合，多支持，多理解。换任何一个公司，吃不消内网上那么多人骂的，我有一段时间也是特别替大家难过，就像我骂儿子可以，我打儿子可以，不允许别人骂我儿子的，要不然我要翻脸的。我没有想过公司内部对阿里云有那么大的意见，我真没想到。但是你们都扛过来了，这是我深以为傲的，如果你们能抗得过内部人骂，抗得过那么多人指责，我们还有什么扛不过未来五年的发展？ 李超给我看了这张照片。 这是当年参加 5K 项目的同事。他说，这些人中现在只有十几个还在阿里巴巴。 李超又给我看了另一张照片。 阿里云成立满六年的时候，为所有从第一年走到现在的员工做了一个人偶。所谓的“所有”，只是眼前这五个人偶。满弓和李超就在其中，他们相顾一笑。 这场长征，从摩肩接踵走到踽踽独行。年轻的人们为了共同的梦想相互温暖，又难免为了各自的梦想互道珍重。只是那些曾经鲜活的伙伴，就这样成为离去的背影，越走越远，消失在视野里，也消失在生命里。 再多情的看客，恐怕也难解其中滋味。 （7）5K 阿里云的神坑，不仅“坑”了胡晓明的阿里金融，也在“坑”淘宝网。 之前说过，淘宝网从2009年就开始了“云梯计划”。到了 2012 年，局面变得有些尴尬： 1、无论是云梯1和云梯2，都没有冲上云计算的技术标准：5K 的规模。2、虽然没达标，但是淘宝网没有选择，只能“赶鸭子上架”，让两架还在试验中的云梯承担一些重要负载。 被刀架在脖子上的行癫心急如焚。 2013年3月28日，一封来自集团技术保障部架构师云铮的邮件直达高层： 按照数据增量与未来业务增长的情况，云梯1和云梯2两套系统的存储和计算能力将在今年6月21日到达瓶颈。到那时，数据业务将会停滞，淘数据，量子能业务都会受到影响；阿里金融的贷款业务将因为无法进行信用数据运算而中止。 这一天终于来了。人们洪水般的“买买买”为阿里巴巴划定了 Deadline。要想维持正常的业务，他们必须在不到三个月的时间里解决问题。 这个时候，把飞天推上 5K，几乎已经是唯一的选择了。事到如今，这已经不是阿里云自己的战斗，而是整个阿里巴巴集团的“背水一战”了。 在这个关头，阿里云需要集团所有人的帮助。 各个部门的技术大牛迅速组成增援大军列立山头，旌旗飘扬。但是在进入战斗序列之前，一个纠缠了各路大神五年恩怨情仇的问题必须有个了断： 最初，因为要做两手准备，以 Hadoop 为基础的“云梯1”和以飞天为基础的“云梯2”一直并行。这个时候，时局已经紧迫到不允许团队分流，他们必须抛弃掉一个云梯。 抛弃哪个？ 云梯1，依靠开源技术，更加成熟，但几年的实践证明，把它推到 5K 有明显的的技术瓶颈。而且，最核心的技术转向开源系统，也许会让阿里巴巴在未来遇到更多技术制约； 云梯2，自研技术，难度更大，但它的架构和代码都是基于阿里自身诉求而设计的。自主可控的 5K 一旦成功，就会打下阿里巴巴下一个十年的江山。而一旦失败，后果也将不堪设想。。。 此时做出任何抉择，都会彻底改变阿里巴巴的历史。但历史又只在彼时彼刻给阿里巴巴一次机会，开弓没有回头箭。所有人的目光都看向王坚。 王坚说了两个字：“飞天！” 再没有一句质疑，再没有一丝埋怨。那些曾经看好或者不看好飞天的技术大牛，这个时候撸起袖子一齐杀了进来。 核心技术系统的正明团队，全员投入 5K 的攻坚战；负责应用集测测试的许呙兢，在得知调度系统的日志自动收集和分析工具缺口严重，二话没说主动请缨；褚霸、多隆、长仁这些分散在各部门的的技术牛人也都冲进来了。各路神仙在这几个月亲近得不分彼此。 褚霸回忆当时的场景：“早上9点进入项目，11点我们就开始解BUG。”&nbsp; 就连在电梯里，都会人问阿里云的同事“最近怎么样？需不需要帮忙？”他们来自一些兄弟团队，有负责安全的，有负责集成测试的。 阿里云自己的同事更是全力冲刺。 新员工刚刚入职，就立刻被派往“战场”。本来是北京分公司的员工，入职之后直接拉到杭州帮忙 5K 项目。都加入公司两个月了，还不知道自己北京的工位在哪里。 而一位叫做李泉的同事，连续几个礼拜连轴转，半夜两三点被叫起来解决问题，早晨八点又出现在工位上。被同事封为“李铁人”。 在最后的测试阶段，杭州和北京两个办公室的同事电话24小时通着，人可以轮班休息，电话不能掉线，那部用来接听的电话都烧得滚烫。 就这样，一行行代码累积起来，在赛博世界的疆土上一眼望不到边界。他们交错重叠，像从白垩纪开始慢慢累积的地层。直到这片大陆，终于浮出海面。 2013年6月底，5K进入了最后的稳定性测试。 怎么测试系统的问题定性呢？之前带领“八十勇士”围攻后羿的振飞，提出了一个真·钢铁直男的测试办法：拔电源。 他的理由是：“如果这种突然暴力断电都能撑得住，阿里云还有什么不稳定的呢？” 拉电的同学反复问了三遍：拉吗？拉吗？拉吗？最后才颤抖着双手拉下了电源。 这一刻，时间停止了，只有机器重新启动的声音。 四个小时以后，当系统完全恢复运行的时候，很多阿里云同事的背后，已经被冷汗打湿了。经过系统自检，一切正常。虽然还有十台服务器光荣就义。但是，数据毫发无损！ 这一刻，在场见证的人都明白：成了。 所有的技术路线之争，所有的进退成败之辩，所有的隐忍委屈不甘，所有的怀疑嘲讽忧虑，就在此时此刻突然画上句号。 盛夏的杭州，阿里巴巴热血翻涌，阿里云的“疯子”们却心如止水。 （8）阿里云这群疯子 阿里云，成为了中国第一家拥有完整云计算能力的企业。 2015年，在计算界的奥运会 Sort Benchmark 中，阿里云计算100TB数据排序只用了不到7分钟，把&nbsp;ApacheSpark 之前创造的23分钟世界纪录一下子缩短了一多半。这说明，中国人研发的云计算系统不仅成功了，而且不比世界上任何现存的云计算系统差。 成功登顶的“云梯2”，后来更名为 ODPS，“加冕”成为了阿里巴巴各项业务通用的大数据计算平台。 ODPS 验证成功之后，阿里立刻启动“登月计划”，把所有的数据和计算都迁移到飞天为基础的系统上，全盘替代 IOE 和 云梯1。2013年5月，阿里巴巴最后一台小型机下线。7月，淘宝最后一个Oracle数据库下线。阿里巴巴这台战车，用了五年时间，在超高速行驶中，没有踩一脚刹车，成功更换了发动机。 因为突破了技术瓶颈，在 5K 之后，ODPS 只用了几个月就冲上了单集群 10K，进而实现了无限制扩展。到 2018年，已经更名为 MaxCompute 的 ODPS 达到了数万台的规模。 哦对了，还有一件小事。当年振飞和后羿的那场“世纪赌局”，后羿赢了。用了三年时间，新的淘宝核心系统果然实现了零故障。 这段时间，阿里云也迎来了两个变动： 2012年秋天，林晨赴约去创业。提及过往，他如此回忆：“阿里云的四年，像是过完了一辈子。以后的事情，都是下辈子的。”他和朱珑创立了依图科技，如今是人工智能领域最炙手可热的公司之一。 2014年秋天，胡晓明来了。这个当年去王坚办公室“上访”的热血青年，陪着阿里云走过了最漫长艰难的岁月。也正因如此，此时他比任何人都更坚信云计算的力量。 2015年7月22日，云栖大会北京峰会开幕。新的领导团队第一次在公众面前露面。 胡晓明任阿里云总裁。李津扛起产品研发，在淘宝网鼎力帮助阿里云的小邪作为技术顾问。等等等等。 名单里没有王坚。王坚知道，当有人能比他更好地带领阿里云前进的一刻，就是他放手的时候了。 这个老男孩，此时静静坐在时光的河岸边，痴痴傻笑。梦回少年，肝胆皆冰雪。 （9）另一个奇迹 在阿里巴巴的云栖小镇，一尊雕像被竖立起来，雕像上只有两个字：“5K”。 5K雕塑，上面刻着飞天团队所有工程师的名字，无论 Ta 是不是仍然在团队。 之前有人无心说的那句“没准将来我们成功了，我们写的飞天第一行代码还能印在T恤上呢！”也成为了现实。 2018年现任阿里云产品总监何云飞 身上就穿着“第一行代码T恤” 2013年，中国企业IT架构升级最好的解决方式，再也不是买来一台新的机器替代掉原有机器，而是采用云计算。 从这一刻开始，这些疯狂的技术宅才有了服务全世界企业的信心；也正是从这一刻开始，坐镇第一把交椅的传奇总裁胡晓明，带领阿里云进入了“攻城掠地”的时代。 中国的网站登录阿里云的比例，从20%，上涨到30%，上涨到40%，上涨到50%。全球19个地域，两百多个飞天数据中心顺次点亮。 每个季度，阿里云都保持同比增长100%，这样逆天的增长速度持续了12个季度。 2018年初的云栖大会上，在一幅硕大的市场曲线图面前，胡晓明抬起右手，这一秒，时间像是凝固了一般。 同一年，飞天云计算操作系统获得了一个特别的奖项——中国电子学会15年以来的第一个特等奖。 在芯片领域，我们面对美国垄断只得眼睁睁地沉默。 在操作系统领域，我们面对美国的背影只能艰难追赶； 但是在云计算这片土地上，从王坚带着一群理想主义者横空出世，到胡晓明把商业战场拉至和亚马逊的 AWS 同一级别。中国人用了十年时间造出的全球第三、亚洲第一的阿里云，不说和美国战为和棋，至少在世界的版图上夺下了堪称广袤的一片疆土。 如此，阿里云的疯子们，理应赢得光芒和荣耀。 创业维艰，唯有曾和死神擦肩而过的人，余生才会用十倍的速度奔跑。 2018年，当年为阿里云对接淘宝立下汗马功劳的小邪正式加入了阿里云，掌管“飞天八部”，阿里云所有的现役主力技术和前沿技术，都归至他麾下。 小邪 蒋江伟 小邪手中的弹药充足： 2017年发布的神龙云服务器，是对下一代云计算主机的探索。同年发布的 POLARDB，剑指商业数据库 Oracle 和它的继任者 MySQL，也称得上是阿里云未来之星。2018年初，飞天的分布式存储系统“盘古”升级到了 2.0，成为阿里巴巴统一存储平台。2018年秋天的云栖大会上，唐洪、小邪、何导等阿里云大咖悉数登场，发布了飞天2.0。敢称 2.0，是因为他们把野心放到了“万物互联”的下一个20年。如此尝试和未来对话的技术还有很多。 此刻的阿里云，手握历史上最好的一把牌。 （10）尾声 不久前，王坚受央视《朗读者》节目邀请，回忆了阿里云的创业史。他平静地说：“阿里云是拿命换来的”。 能用命换来梦想，未尝不是幸事。 君不见，在无数个平行世界中，疯人院里的麦克墨菲最终都越狱失败，被医生切去前额叶，再无还手之力。 一群理想主义者的长征路上，一片落叶微微改变飞舞的方向，都有可能把他们引向另一个方向，另一种结局。如果重来一次，阿里云也许无法复现今天的疆域和荣耀。但历史没有假设，可叹阿里云这群人从第一天就无来由地相信，中国人有权拥有自己的云计算。 以身为棋，胜天半子。 阿里云的创业故事走到了封底。书中悲欢离合，凡此种种，也许只博看客一叹。只有那些经历过这一切的活生生的人，才能在时间的风尘里，循着自己的脚印依稀辨别来路。 而那些走散的人呢？ 他们也许会在某个秋日回忆起和伙伴同行的日子，心怀感念；他们也许有了新的忙碌的生活，来不及回望；他们也许偶然翻到新闻，看到那年王坚的滚滚热泪；他们也许在饭桌上谈笑风生，聊到当时的兄弟，忽然抬眼望向远方，干掉一杯烈酒。 我想起一个小故事。 在最初面试时，有一个大牛程序员和满弓聊过之后，本想再考虑考虑是否入职。但是出门时，他看到了阿里云办公室上的一副对联，原地思考了几秒钟，转身决定马上加入。 那副对联是这样写的： 代码成就万世基积沙镇海梦想永在凌云意意气风发 任何执拗都会成为过往，只有时间会告诉你对错。 人们总爱说一句话：认真你就输了。而我更相信另一句话。认输，你才真的输了。","link":"/2021/03/03/%E9%98%BF%E9%87%8C%E4%BA%91%E7%9A%84%E8%BF%99%E7%BE%A4%E7%96%AF%E5%AD%90/"}],"tags":[{"name":"工具","slug":"工具","link":"/tags/%E5%B7%A5%E5%85%B7/"},{"name":"java","slug":"java","link":"/tags/java/"},{"name":"opencv","slug":"opencv","link":"/tags/opencv/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"运维","slug":"运维","link":"/tags/%E8%BF%90%E7%BB%B4/"},{"name":"杂谈","slug":"杂谈","link":"/tags/%E6%9D%82%E8%B0%88/"}],"categories":[]}